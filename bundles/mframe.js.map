{"version":3,"sources":["webpack://mframe/webpack/universalModuleDefinition","webpack://mframe/webpack/bootstrap","webpack://mframe/./src/lib/utiliy/core.js","webpack://mframe/./src/lib/utiliy/browser.js","webpack://mframe/./src/lib/cpu/css.js","webpack://mframe/./src/lib/cpu/index.js","webpack://mframe/./src/lib/cpu/attr.js","webpack://mframe/./src/lib/cpu/prop.js","webpack://mframe/./src/lib/cpu/arg.js","webpack://mframe/./src/lib/math/color.js","webpack://mframe/./src/lib/math/tween.js","webpack://mframe/./src/lib/core/keyFrames.js","webpack://mframe/./src/lib/utiliy/events.js","webpack://mframe/./src/lib/core/timeline.js","webpack://mframe/./src/lib/core/index.js","webpack://mframe/./src/lib/speed/index.js","webpack://mframe/./src/lib/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","RegInt","guid","replace","Math","random","toString","access","elem","fn","length","each","funcName","args","apply","toArray","obj","Array","slice","isArray","int","num","def","isInt","v","test","Browser","_regConfig","Chrome","Reg","CssPrefixes","Firefox","Opera","Safari","IE","init","this","_userAgent","navigator","userAgent","toLowerCase","_o","exec","Help","support","regMsPrefix","regDashAlpha","cssProps","camelCase","string","fcamelCase","all","letter","toUpperCase","upper1st","charAt","vendorPropName","style","capName","origName","div","a","document","createElement","innerHTML","getElementsByTagName","cssText","cssFloat","clearCloneStyle","backgroundClip","float","getComputedStyle","defaultView","getPropName","css","dom","nodeType","undefined","ret","e","Cores","_set","val","set","_get","attr","setAttribute","getAttribute","prop","arg","install","core","uninstall","createStorage","storage","RegNum","toRgbaArr","g","b","step","parseInt","match","toRgba","rgbaArr","join","toHex","to16","Tween","add","func","linear","easeIn","easeOut","easeInOut","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","PI","easeOutSine","sin","easeInOutSine","easeInExpo","pow","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInBounce","easeOutBounce","easeInOutBounce","KeyFrames","Prop","Keys","Timing","_LaterComplie","Frames","Dom","CpuCore","PropName","RegList","RegFloat","_sort","time","tween","indexOf","push","sort","complie","time1","time2","start","end","keys","timing","index","_patch","preComplie","_val","_ifLaterComplie","state","isFromZeroToEnd","endFrame","render","val1","val2","tweenName","needConvert","v1","v2","m1","_match","m2","duration","analyzeItem","_analyzeMatch","_patchProp","_number","needInt","currentTime","_start","_end","_int","word","rgba","typeLike1","typeLike","typeLike2","match1","match2","_needConvertInt","s1","s2","type","_t","_matchType","regList","Events","_$EventGuid","binds","json","base","newKey","hasBase","emit","caller","events","funcGuid","fire","unbind","funcOrGuid","Timeline","config","zeroFrame","frames","Storage","ZeroFrame","_scan","_store","coreName","props","propName","frame","last","max","LastFrame","_excuteStorage","getArgs","coreStorage","Motion","configs","Timelines","_AnimationID","CurrentFrame","Repeat","ifAppend","_configs","lastFrame","timeline","append","run","startFrame","resetStart","stepLength","ifGo","me","_run","requestAnimationFrame","_complie","reverse","repeat","play","stop","cancelAnimationFrame","pause","isPlaying","x","_Config","_Events","_isFromeZero","Mframes","CurrentSpeed","xspeed","xconfig","speed","_config","_u_event","_u_config","_xspeed","parseFloat","ceil","item","_item","_f","assign","_u_time","event","_pre","currentMframe","_preFrame","_mframe","_currentFrame","current","_isPlaying","arguments","MFrame","Cpu","registerWindow"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAgB,OAAID,IAEpBD,EAAa,OAAIC,IARnB,CASGK,QAAQ,WACX,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,IAIjBhC,EAAoBA,EAAoBiC,EAAI,G,sEClFrD,MAAMC,EAAS,mBAEf,IAkDe,EAlDJ,CACTC,KAAM,WACJ,MAAO,uCAAuCC,QAAQ,SAAS,SAAU7B,GACvE,IAAIS,EAAoB,GAAhBqB,KAAKC,SAAgB,EAE7B,OADc,MAAN/B,EAAYS,EAAS,EAAJA,EAAU,GAC1BuB,SAAS,QAGtBC,OAAQ,SAAUC,EAAMhB,EAAKN,EAAOuB,GAClC,IAAIC,EAASF,EAAKE,OAElB,GAAsB,iBAAXA,EACT,IAAK,IAAIzC,EAAI,EAAGA,EAAIyC,EAAQzC,IAC1BwC,EAAGD,EAAKvC,GAAIuB,EAAKN,QAGnBuB,EAAGD,EAAMhB,EAAKN,IAGlByB,KAAM,SAAUH,EAAMI,EAAUC,GAC9B,IAAIH,EAASF,EAAKE,OAElB,GAAsB,iBAAXA,EACT,IAAK,IAAIzC,EAAI,EAAGA,EAAIyC,EAAQzC,IAC1BuC,EAAKvC,GAAG2C,GAAUE,MAAMN,EAAKvC,GAAI4C,QAGnCL,EAAKI,GAAUE,MAAMN,EAAMK,IAG/BE,QAAS,SAAUC,GACjB,OAAOC,MAAMpB,UAAUqB,MAAM9C,KAAK4C,IAEpCG,QAAS,SAAUH,GACjB,MAA+C,mBAAxCrC,OAAOkB,UAAUS,SAASlC,KAAK4C,IAExCI,IAAK,SAAUC,EAAKC,GAClB,IACE5B,EADEnB,EAAI+C,GAAO,EAEf,MAAmB,iBAARD,IACT3B,EAAI2B,GAAO,IACC,EAAI3B,EAEXnB,GAETgD,MAAO,SAASC,GACd,OAAOvB,EAAOwB,KAAKD,KChDnBE,EAAU,CACVC,WAAa,CACTC,OAAQ,CACJC,IAAK,yBACLC,YAAa,UAEjBC,QAAS,CACLF,IAAK,0BACLC,YAAa,OAEjBE,MAAO,CACHH,IAAK,6BACLC,YAAa,KAEjBG,OAAQ,CACJJ,IAAK,kCACLC,YAAa,UAEjBI,GAAI,CACAL,IAAK,sBACLC,YAAa,OAGrBA,YAAY,GACZK,KAAM,WACF,IAAIR,EAAaS,KAAKT,WAClBU,EAAaC,UAAUC,UAAUC,cACrC,IAAK,IAAIC,KAAMd,EAAY,CAEvB,GAAe,MADDA,EAAWc,GAAIZ,IAAIa,KAAKL,GACjB,CACjBD,KAAKN,YAAcH,EAAWc,GAAIX,YAClC,UAMbQ,WAAaA,UAAUC,WACtBb,EAAQS,OAGG,QCtCXQ,EAAO,CACPC,QAAS,GACTC,YAAa,QACbC,aAAc,eACdC,SAAU,GACVC,UAAW,SAAUC,GACjB,OAAOA,EAAO9C,QAAQiC,KAAKS,YAAa,OAAO1C,QAAQiC,KAAKU,aAAcV,KAAKc,aAEnFA,WAAY,SAAUC,EAAKC,GACvB,OAAOA,EAAOC,eAElBC,SAAU,SAAU9E,GAChB,OAAOA,EAAK+E,OAAO,GAAGF,cAAgB7E,EAAK0C,MAAM,IAGrDsC,eAAgB,SAAUC,EAAOjF,GAE7B,GAAIA,KAAQiF,EACR,OAAOjF,EAGX,IAAIkF,EAAUtB,KAAKkB,SAAS9E,GACxBmF,EAAWnF,EAGf,OADAA,EAAO,EAAQsD,YAAc4B,KACjBD,EACDjF,EAGJmF,GAEXlC,KAAM,WACF,IAAImC,EAAKC,EAAGJ,GACZG,EAAME,SAASC,cAAc,QACzBC,UAAY,sEAEhBP,GADAI,EAAID,EAAIK,qBAAqB,KAAK,KACrBJ,EAAEJ,SAIfA,EAAMS,QAAU,wBAGhB9B,KAAKQ,QAAQuB,WAAaV,EAAMU,SAChC/B,KAAKQ,QAAQwB,gBAA+C,gBAA7BR,EAAIH,MAAMY,eACzCjC,KAAKW,SAASuB,MAAQlC,KAAKQ,QAAQuB,SAAW,WAAa,aAC3D/B,KAAKmC,iBAAsD,mBAA5B1G,OAAO0G,iBAClC1G,OAAO0G,iBACPT,SAASU,YAAYD,mBAE7BE,YAAa,SAAUhB,EAAOE,GAC1B,OAAOvB,KAAKW,SAASY,KAAcvB,KAAKW,SAASY,GAAYvB,KAAKoB,eAAeC,EAAOE,KAE5Fe,IAAK,SAAUC,EAAKnF,EAAKN,GAErB,GAAKyF,GAAwB,IAAjBA,EAAIC,UAAmC,IAAjBD,EAAIC,UAAmBD,EAAIlB,MAA7D,CAIA,IAAIE,EAAWvB,KAAKY,UAAUxD,GAC1BiE,EAAQkB,EAAIlB,MACZjF,EAAO4D,KAAKqC,YAAYhB,EAAOE,GAEnC,QAAckB,IAAV3F,EAUG,CACH,IACI4F,EADAtD,EAAIiC,EAAMjF,GAEd,QAAUqG,IAANrD,GAAyB,KAANA,EAAU,CAC7B,IACIsD,EAAMhB,SAASU,YAAYD,iBAAiBI,GAAKnG,GACnD,MAAOuG,GACL,MAAO,GAEX,OAAOD,EAEP,OAAOrB,EAAMjF,GAnBjB,GAAa,MAATU,GAAiBA,GAAUA,EAI/B,IACIuE,EAAMjF,GAAQU,EAChB,MAAO6F,QAmBrBpC,EAAKlB,OAGL,IClEe,EAzBL,CACNuD,MAAO,CACHN,IDyFE,CACNO,KAAM,SAAUN,EAAKnF,EAAK0F,GACtBvC,EAAK+B,IAAIC,EAAKnF,EAAK0F,IAEvBC,IAAK,SAAUR,EAAKnF,EAAK0F,GACrB,EAAK3E,OAAOoE,EAAKnF,EAAK0F,EAAK9C,KAAK6C,OAEpCG,KAAM,SAAUT,EAAKnF,GACjB,OAAOmD,EAAK+B,IAAIC,EAAKnF,IAEzBV,IAAK,SAAU6F,EAAKnF,GAChB,OAAO4C,KAAKgD,KAA2B,iBAAfT,EAAIjE,OAAsBiE,EAAI,GAAKA,EAAKnF,KCnGhE6F,KCNG,CACPJ,KAAM,SAAUN,EAAKnF,EAAK0F,GACtBP,EAAIW,aAAa9F,EAAK0F,IAE1BC,IAAK,SAAUR,EAAKnF,EAAK0F,GACrB,EAAK3E,OAAOoE,EAAKnF,EAAK0F,EAAK9C,KAAK6C,OAEpCG,KAAM,SAAUT,EAAKnF,GACjB,OAAOmF,EAAIY,aAAa/F,IAE5BV,IAAK,SAAU6F,EAAKnF,GAChB,OAAO4C,KAAKgD,KAA2B,iBAAfT,EAAIjE,OAAsBiE,EAAI,GAAKA,EAAKnF,KDJhEgG,KERG,CACPP,KAAM,SAAUN,EAAKnF,EAAK0F,GACtBP,EAAInF,GAAO0F,GAEfC,IAAK,SAAUR,EAAKnF,EAAK0F,GACrB,EAAK3E,OAAOoE,EAAKnF,EAAK0F,EAAK9C,KAAK6C,OAEpCG,KAAM,SAAUT,EAAKnF,GACjB,OAAOmF,EAAInF,IAEfV,IAAK,SAAU6F,EAAKnF,GAChB,OAAO4C,KAAKgD,KAA2B,iBAAfT,EAAIjE,OAAsBiE,EAAI,GAAKA,EAAKnF,KFFhEiG,IGVG,CACPN,IAAK,SAAUR,EAAKnF,EAAK0F,GACrB,MAAO,IAEXpG,IAAK,SAAU6F,EAAKnF,GAChB,MAAO,MHOXkG,QAAS,SAAUlH,EAAMmH,GACrBvD,KAAK4C,MAAMxG,GAAQmH,GAEvBC,UAAW,SAAUpH,UACV4D,KAAK4C,MAAMxG,IAEtBqH,cAAe,WACX,IAAIC,EAAU,GACd,IAAK,IAAItH,KAAQ4D,KAAK4C,MAClBc,EAAQtH,GAAQ,GAEpB,OAAOsH,GAEXH,KAAM,SAAUnH,GACZ,OAAO4D,KAAK4C,MAAMxG,KIKX,EA/BH,CACRuH,OAAQ,mBACRC,UAAW,SAASd,GAChB,IAAInG,EAAGkH,EAAGC,EAAGrC,EAAI,EACjB,GAAe,MAAXqB,EAAI,GAAY,CAChB,IAAIiB,EAAsB,IAAfjB,EAAIxE,OAAe,EAAI,EAClC3B,EAAIqH,SAASlB,EAAIhE,MAAM,EAAG,EAAIiF,GAAO,IACrCF,EAAIG,SAASlB,EAAIhE,MAAM,EAAIiF,EAAM,EAAW,EAAPA,GAAW,IAChDD,EAAIE,SAASlB,EAAIhE,MAAM,EAAW,EAAPiF,EAAU,EAAW,EAAPA,GAAW,QACjD,CACH,IAAI9H,EAAI6G,EAAImB,MAAMjE,KAAK2D,QACvBhH,GAAKV,EAAE,GACP4H,GAAK5H,EAAE,GACP6H,GAAK7H,EAAE,GACPwF,EAAIxF,EAAEqC,OAAS,GAAKrC,EAAE,GAAK,EAE/B,MAAO,CAACU,EAAGkH,EAAGC,EAAGrC,IAErByC,OAAQ,SAASC,GACb,MAAO,QAAUA,EAAQC,KAAK,KAAO,KAEzCC,MAAO,SAASF,GACZ,MAAO,IAAMnE,KAAKsE,KAAKH,EAAQ,IACzBnE,KAAKsE,KAAKH,EAAQ,IAClBnE,KAAKsE,KAAKH,EAAQ,KAE5BG,KAAM,SAASxB,GACX,IAAI1D,EAAI0D,EAAI5E,SAAS,IACrB,OAAkB,IAAXkB,EAAEd,OAAa,IAAIc,EAAIA,IClBlCmF,EAAQ,CAERC,IAAK,SAASpI,EAAMqI,GAChBzE,KAAK5D,GAAQqI,GAEjBC,OAAQ,SAAS3H,EAAE+G,EAAE5H,EAAEC,GACnB,OAAOD,EAAEa,EAAEZ,EAAI2H,GAEnBa,OAAQ,SAAS5H,EAAE+G,EAAE5H,EAAEC,GACnB,OAAOD,GAAGa,GAAGZ,GAAGY,EAAI+G,GAExBc,QAAS,SAAS7H,EAAE+G,EAAE5H,EAAEC,GACpB,OAAQD,GAAIa,GAAGZ,IAAIY,EAAE,GAAK+G,GAE9Be,UAAW,SAAS9H,EAAE+G,EAAE5H,EAAEC,GACtB,OAAKY,GAAGZ,EAAE,GAAK,EAAUD,EAAE,EAAEa,EAAEA,EAAI+G,GAC3B5H,EAAE,KAAQa,GAAIA,EAAE,GAAK,GAAK+G,GAEtCgB,YAAa,SAAS/H,EAAE+G,EAAE5H,EAAEC,GACvB,OAAOD,GAAGa,GAAGZ,GAAGY,EAAEA,EAAI+G,GAE3BiB,aAAc,SAAShI,EAAE+G,EAAE5H,EAAEC,GACzB,OAAOD,IAAIa,EAAEA,EAAEZ,EAAE,GAAGY,EAAEA,EAAI,GAAK+G,GAEnCkB,eAAgB,SAASjI,EAAE+G,EAAE5H,EAAEC,GAC3B,OAAKY,GAAGZ,EAAE,GAAK,EAAUD,EAAE,EAAEa,EAAEA,EAAEA,EAAI+G,EAC9B5H,EAAE,IAAIa,GAAG,GAAGA,EAAEA,EAAI,GAAK+G,GAElCmB,YAAa,SAASlI,EAAE+G,EAAE5H,EAAEC,GACvB,OAAOD,GAAGa,GAAGZ,GAAGY,EAAEA,EAAEA,EAAI+G,GAE7BoB,aAAc,SAASnI,EAAE+G,EAAE5H,EAAEC,GACzB,OAAQD,IAAMa,EAAEA,EAAEZ,EAAE,GAAGY,EAAEA,EAAEA,EAAI,GAAK+G,GAExCqB,eAAgB,SAASpI,EAAE+G,EAAE5H,EAAEC,GAC3B,OAAKY,GAAGZ,EAAE,GAAK,EAAUD,EAAE,EAAEa,EAAEA,EAAEA,EAAEA,EAAI+G,GAC/B5H,EAAE,IAAMa,GAAG,GAAGA,EAAEA,EAAEA,EAAI,GAAK+G,GAEvCsB,YAAa,SAASrI,EAAE+G,EAAE5H,EAAEC,GACxB,OAAOD,GAAGa,GAAGZ,GAAGY,EAAEA,EAAEA,EAAEA,EAAI+G,GAE9BuB,aAAc,SAAStI,EAAE+G,EAAE5H,EAAEC,GACzB,OAAOD,IAAIa,EAAEA,EAAEZ,EAAE,GAAGY,EAAEA,EAAEA,EAAEA,EAAI,GAAK+G,GAEvCwB,eAAgB,SAASvI,EAAE+G,EAAE5H,EAAEC,GAC3B,OAAKY,GAAGZ,EAAE,GAAK,EAAUD,EAAE,EAAEa,EAAEA,EAAEA,EAAEA,EAAEA,EAAI+G,EACjC5H,EAAE,IAAIa,GAAG,GAAGA,EAAEA,EAAEA,EAAEA,EAAI,GAAK+G,GAEvCyB,WAAY,SAASxI,EAAE+G,EAAE5H,EAAEC,GACvB,OAAQD,EAAI8B,KAAKwH,IAAIzI,EAAEZ,GAAK6B,KAAKyH,GAAG,IAAMvJ,EAAI4H,GAElD4B,YAAa,SAAS3I,EAAE+G,EAAE5H,EAAEC,GACxB,OAAOD,EAAI8B,KAAK2H,IAAI5I,EAAEZ,GAAK6B,KAAKyH,GAAG,IAAM3B,GAE7C8B,cAAe,SAAS7I,EAAE+G,EAAE5H,EAAEC,GAC1B,OAAQD,EAAE,GAAK8B,KAAKwH,IAAIxH,KAAKyH,GAAG1I,EAAEZ,GAAK,GAAK2H,GAEhD+B,WAAY,SAAS9I,EAAE+G,EAAE5H,EAAEC,GACvB,OAAW,GAAHY,EAAQ+G,EAAI5H,EAAI8B,KAAK8H,IAAI,EAAG,IAAM/I,EAAEZ,EAAI,IAAM2H,GAE1DiC,YAAa,SAAShJ,EAAE+G,EAAE5H,EAAEC,GACxB,OAAQY,GAAGZ,EAAK2H,EAAE5H,EAAIA,GAA+B,EAAzB8B,KAAK8H,IAAI,GAAI,GAAK/I,EAAEZ,IAAU2H,GAE9DkC,cAAe,SAASjJ,EAAE+G,EAAE5H,EAAEC,GAC1B,OAAO,GAAHY,EAAa+G,EACb/G,GAAGZ,EAAU2H,EAAE5H,GACda,GAAGZ,EAAE,GAAK,EAAUD,EAAE,EAAI8B,KAAK8H,IAAI,EAAG,IAAM/I,EAAI,IAAM+G,EACpD5H,EAAE,GAA+B,EAAzB8B,KAAK8H,IAAI,GAAI,KAAO/I,IAAU+G,GAEjDmC,WAAY,SAASlJ,EAAE+G,EAAE5H,EAAEC,GACvB,OAAQD,GAAK8B,KAAKkI,KAAK,GAAKnJ,GAAGZ,GAAGY,GAAK,GAAK+G,GAEhDqC,YAAa,SAASpJ,EAAE+G,EAAE5H,EAAEC,GACxB,OAAOD,EAAI8B,KAAKkI,KAAK,GAAKnJ,EAAEA,EAAEZ,EAAE,GAAGY,GAAK+G,GAE5CsC,cAAe,SAASrJ,EAAE+G,EAAE5H,EAAEC,GAC1B,OAAKY,GAAGZ,EAAE,GAAK,GAAWD,EAAE,GAAK8B,KAAKkI,KAAK,EAAInJ,EAAEA,GAAK,GAAK+G,EACpD5H,EAAE,GAAK8B,KAAKkI,KAAK,GAAKnJ,GAAG,GAAGA,GAAK,GAAK+G,GAEjDuC,aAAa,SAAStJ,EAAE+G,EAAE5H,EAAEC,GACxB,OAAOD,EAAIqI,EAAM+B,cAAcnK,EAAEY,EAAG,EAAGb,EAAGC,GAAK2H,GAEnDwC,cAAc,SAASvJ,EAAE+G,EAAE5H,EAAEC,GACzB,OAAKY,GAAGZ,GAAM,EAAE,KACLD,GAAG,OAAOa,EAAEA,GAAK+G,EACjB/G,EAAK,EAAE,KACPb,GAAG,QAAQa,GAAI,IAAI,MAAOA,EAAI,KAAO+G,EACrC/G,EAAK,IAAI,KACTb,GAAG,QAAQa,GAAI,KAAK,MAAOA,EAAI,OAAS+G,EAExC5H,GAAG,QAAQa,GAAI,MAAM,MAAOA,EAAI,SAAW+G,GAG1DyC,gBAAgB,SAASxJ,EAAE+G,EAAE5H,EAAEC,GAC3B,OAAIY,EAAIZ,EAAE,EAA6C,GAAnCoI,EAAM8B,aAAe,EAAFtJ,EAAK,EAAGb,EAAGC,GAAU2H,EACV,GAAtCS,EAAM+B,cAAgB,EAAFvJ,EAAIZ,EAAG,EAAGD,EAAGC,GAAY,GAAFD,EAAO4H,IAIvD,ICrGX0C,EAAY,SAASjE,EAAKgB,EAAMkD,GAChCzG,KAAK0G,KAAO,GACZ1G,KAAK2G,OAAS,GACd3G,KAAK4G,cAAgB,GACrB5G,KAAK6G,OAAS,GACd7G,KAAK8G,IAAMvE,EACXvC,KAAK+G,QAAU,EAAIxD,KAAKA,GACxBvD,KAAKgH,SAAWP,GAEpBD,EAAU/I,UAAY,CAClBwJ,QAAU,CAbE,mCACC,qJAFD,mBAeZxH,IAAM,6MACNyH,SAAW,MACXC,MAAO,SAAS1F,EAAGqC,GACf,OAAOrC,EAAIqC,GAEfU,IAAI,SAAS1H,EAAOsK,EAAMC,IACa,IAA/BrH,KAAK2G,OAAOW,QAAQF,KACpBpH,KAAK2G,OAAOY,KAAKH,GACjBpH,KAAK2G,OAAOa,KAAKxH,KAAKmH,QAE1BnH,KAAK0G,KAAKU,GAAQ,CACdtK,MAAOA,EACPuK,MAAOA,IAGfI,QAAS,WACL,IAAIC,EACAC,EACAC,EACAC,EACAC,EAAO9H,KAAK0G,KACZqB,EAAS/H,KAAK2G,OAClB,GAAsB,IAAlBoB,EAAOzJ,OAIX,IAAK,IAAI0J,KAAShI,KAAK4G,cACnBc,EAAQK,GAAQC,GAChBL,EAAQI,GAAQC,EAAQ,GACxBJ,EAAQE,EAAKJ,GACbG,EAAMC,EAAKH,GACX3H,KAAKiI,OAAOP,EAAOC,EAAO3H,KAAK8C,IAAI8E,EAAM9K,OAAQkD,KAAK8C,IAAI+E,EAAI/K,OAAQ+K,EAAIR,YAR1ErH,KAAK6G,OAAOkB,EAAO,IAAM/H,KAAK8C,IAAIgF,EAAKC,EAAO,IAAIjL,QAW1DoL,WAAY,WACR,IACIR,EACAC,EACAC,EACAC,EAJAE,EAAS/H,KAAK2G,OAKdmB,EAAO9H,KAAK0G,KAEhB,GADA1G,KAAK4G,cAAgB,GACC,IAAlBmB,EAAOzJ,OAAc,CACrB,IAAI6J,EAAOL,EAAKC,EAAO,IAAIjL,MAK3B,OAJIkD,KAAKoI,gBAAgBD,KACrBnI,KAAK4G,cAAc,IAAK,QAE5B5G,KAAK6G,OAAOkB,EAAO,IAAMI,GAG7B,IAAK,IAAItM,EAAI,EAAGC,EAAIiM,EAAOzJ,OAAS,EAAGzC,EAAIC,EAAGD,IAC1C6L,EAAQK,EAAOlM,GACf8L,EAAQI,EAAOlM,EAAI,GACnB+L,EAAQE,EAAKJ,GACbG,EAAMC,EAAKH,GACP3H,KAAKoI,gBAAgBR,EAAM9K,QAAUkD,KAAKoI,gBAAgBP,EAAI/K,OAC9DkD,KAAK4G,cAAc/K,IAAK,EAExBmE,KAAKiI,OAAOP,EAAOC,EAAOC,EAAM9K,MAAO+K,EAAI/K,MAAO+K,EAAIR,QAIlEvE,IAAI,SAAShG,GACT,MAAqB,mBAAVA,EACAA,IACU,OAAVA,EACAkD,KAAK+G,QAAQrK,IAAIsD,KAAK8G,IAAK9G,KAAKgH,UAEhClK,GAGfuL,MAAO,SAASxM,EAAGyM,EAAiBC,GAChC,GAAGD,EACC,KAAMzM,GAAG0M,GAAU,CACf,QAAsB9F,IAAnBzC,KAAK6G,OAAOhL,GAAkB,CAC7BmE,KAAK+G,QAAQhE,IAAI/C,KAAK8G,IAAK9G,KAAKgH,SAAUhH,KAAK6G,OAAOhL,IACtD,MAEJA,SAGJ,KAAMA,GAAG0M,GAAU,CACf,QAAsB9F,IAAnBzC,KAAK6G,OAAOhL,GAAkB,CAC7BmE,KAAK+G,QAAQhE,IAAI/C,KAAK8G,IAAK9G,KAAKgH,SAAUhH,KAAK6G,OAAOhL,IACtD,MAEJA,MAIZ2M,OAAO,SAAS3M,QACW4G,IAAnBzC,KAAK6G,OAAOhL,IACZmE,KAAK+G,QAAQhE,IAAI/C,KAAK8G,IAAK9G,KAAKgH,SAAUhH,KAAK6G,OAAOhL,KAG9DoM,OAAO,SAASP,EAAOC,EAAOc,EAAMC,EAAMC,GACtC,IAAIC,EAA8B,iBAATH,GAAqC,iBAATC,EACjDG,EAAKJ,EAAKvK,WACV4K,EAAKJ,EAAKxK,WACV6K,EAAK/I,KAAKgJ,OAAOH,GACjBI,EAAKjJ,KAAKgJ,OAAOF,GACjBI,EAAWvB,EAAQD,EACnBL,EAAQ,EAAMsB,IAAc,EAAMjE,OAEtC,GAAIwE,EAAW,GAAKT,IAASC,EAAM,CAC/B,IAAIS,EAAcnJ,KAAKoJ,cAAcL,EAAIE,GACzC,GAAIE,EACA,GAAIP,EACA,IAAK,IAAI/M,EAAI6L,EAAQ,EAAG7L,EAAI8L,EAAO9L,IAC/BmE,KAAK6G,OAAOhL,IAAMmE,KAAKqJ,WAAWR,EAAIM,EAAatN,EAAI6L,EAAOwB,EAAU7B,QAG5E,IAASxL,EAAI6L,EAAQ,EAAG7L,EAAI8L,EAAO9L,IAC/BmE,KAAK6G,OAAOhL,GAAKmE,KAAKqJ,WAAWR,EAAIM,EAAatN,EAAI6L,EAAOwB,EAAU7B,GAMvFrH,KAAK6G,OAAOa,GAASe,EACrBzI,KAAK6G,OAAOc,GAASe,GAEzBY,QAAQ,SAASxG,EAAKyG,GAClB,OAAOA,EAAUvF,SAASlB,IAAQA,GAEtCuG,WAAW,SAASvG,EAAKqG,EAAaK,EAAaN,EAAU7B,GACzD,IAAIoC,EAASN,EAAYvB,MACrB8B,EAAOP,EAAYtB,IACnB8B,EAAOR,EAAYnK,IACnBsK,EAAUtJ,KAAKsJ,QACftB,EAAQ,EAEZ,OAAOlF,EAAI/E,QAAQiC,KAAKP,KAAK,SAAUmK,GACnC,IAEIlH,EAFA9E,EAAI6L,EAAOzB,GACXrF,EAAI+G,EAAK1B,GAEb,GAAiB,iBAANpK,EACP8E,EAAM4G,EAAQjC,EAAMmC,GAAc5L,GAAI+E,EAAI/E,EAAGsL,GAAWS,EAAK3B,QAE1D,CAEH,IADA,IAAI6B,EAAO,GACFhO,EAAI,EAAGC,EAAI8B,EAAEU,OAAQzC,EAAIC,EAAGD,IAAK,CACtC,IAAIuD,EAAIiI,EAAMmC,GAAc5L,EAAE/B,IAAK8G,EAAE9G,GAAK+B,EAAE/B,GAAIqN,GAChDW,EAAKtC,KAAK1L,EAAI,EAAImI,SAAS5E,GAAKA,GAEpCsD,EAAkB,MAAZkH,EAAK,GAAa,EAAMvF,MAAMwF,GAAQ,EAAM3F,OAAO2F,GAG7D,OADA7B,IACOtF,MAGf0G,cAAc,SAASL,EAAIE,GACvB,IAAIa,EAAYf,EAAGgB,SACfC,EAAYf,EAAGc,SACfE,EAASlB,EAAG9E,MACZiG,EAASjB,EAAGhF,MACZnI,EAAIgO,EAAUxL,OACdoE,EAAM,CACFkF,MAAO,GACPC,IAAK,GACL7I,IAAK,IAEb,GAAIlD,IAAMkO,EAAU1L,QAAgB,IAANxC,GAAgC,IAArBkO,EAAU1L,OAC/C,OAAO,EAEX,IAAK,IAAIzC,EAAI,EAAGA,EAAIC,EAAGD,IAAK,CACxB,GAAIiO,EAAUjO,KAAOmO,EAAUnO,GAC3B,OAAO,EAEiB,IAAjBiO,EAAUjO,IACjB6G,EAAIkF,MAAML,MAAM0C,EAAOpO,IACvB6G,EAAImF,IAAIN,MAAM2C,EAAOrO,IACrB6G,EAAI1D,IAAIuI,KAAKvH,KAAKmK,gBAAgBF,EAAOpO,GAAIqO,EAAOrO,OAGpD6G,EAAIkF,MAAML,KAAK,EAAM3D,UAAUqG,EAAOpO,KACtC6G,EAAImF,IAAIN,KAAK,EAAM3D,UAAUsG,EAAOrO,KACpC6G,EAAI1D,IAAIuI,KAAK,EAAC,GAAM,GAAM,GAAM,KAGxC,OAAO7E,GAEXyH,gBAAgB,SAASC,EAAIC,GACzB,QAASrK,KAAKkH,SAAS7H,KAAK+K,IAAOpK,KAAKkH,SAAS7H,KAAKgL,KAS1DrB,OAAO,SAASlG,GAIZ,IAHA,IAAI7G,EAAI6G,EAAImB,MAAMjE,KAAKP,MAAQ,GAC3B6K,EAAO,GACPP,EAAW,GACNlO,EAAI,EAAGA,EAAII,EAAEqC,OAAQzC,IAAK,CAC/B,IAAI0O,EAAKvK,KAAKwK,WAAWvO,EAAEJ,IAC3ByO,EAAK/C,KAAKgD,GACVR,EAASxC,KAAY,IAAPgD,EAAW,EAAI,GAEjC,MAAO,CACHtG,MAAOhI,EACPqO,KAAMA,EACNP,SAAUA,IAGlBS,WAAW,SAAS1H,GAEhB,IADA,IAAI2H,EAAUzK,KAAKiH,QACVpL,EAAI,EAAGC,EAAI2O,EAAQnM,OAAQzC,EAAIC,EAAGD,IACvC,GAAI4O,EAAQ5O,GAAGwD,KAAKyD,GAChB,OAAOjH,GAKnBuM,gBAAgB,SAAStL,GACrB,MAAwB,mBAAVA,GAAkC,OAAVA,IAK/B,QC/OX4N,EAAS,WACX1K,KAAK0K,OAAS,IAEhBA,EAAOjN,UAAY,CACjBI,OAAQ,aACRR,KAAM,SAAUD,EAAKqH,GAQnB,YAPyBhC,IAArBgC,EAAKkG,cACPlG,EAAKkG,YAAc,EAAK7M,aAED2E,IAArBzC,KAAK0K,OAAOtN,KACd4C,KAAK0K,OAAOtN,GAAO,IAErB4C,KAAK0K,OAAOtN,GAAKqH,EAAKkG,aAAelG,EAC9BA,EAAKkG,aAEdC,MAAO,SAAUC,EAAMC,GACrB,GAAID,EAAM,CACR,IAAIE,EACFC,EAA0B,iBAATF,EACnB,IAAK,IAAI1N,KAAOyN,EACdE,EAASC,GAAWhL,KAAKnC,OAAOwB,KAAKjC,GAAO0N,EAAO1N,EAAMA,EACzD4C,KAAK3C,KAAK0N,EAAQF,EAAKzN,MAI7B6N,KAAM,SAAU7N,EAAKqB,EAAMyM,GACzB,IAAIC,EAASnL,KAAK0K,OAAOtN,GACzB,GAAI+N,EACF,IAAK,IAAIC,KAAYD,EACnBA,EAAOC,GAAU1M,MAAMwM,EAAQzM,IAKrC4M,KAAM,SAAUjO,EAAKqB,EAAMyM,GACzB,IAAIC,EAASnL,KAAK0K,OAAOtN,GACzB,GAAI+N,EACF,IAAK,IAAIC,KAAYD,EACnBA,EAAOC,GAAUpP,KAAKkP,EAAQzM,IAIpC6M,OAAQ,SAAUlO,EAAKmO,GACrB,GAAIvL,KAAK0K,OAAOtN,GAAM,CACpB,IAAIU,EAA6B,iBAAfyN,EAA0BA,EAAaA,EAAWZ,mBAC7D3K,KAAK0K,OAAOtN,GAAKU,MAKf,QChDX0N,EAAW,SAASC,EAAQC,GAC5B1L,KAAK8G,IAAM2E,EAAOlJ,IAClBvC,KAAK6G,OAAS4E,EAAOE,OACrB3L,KAAK4L,QAAU,EAAInI,gBACnBzD,KAAK0K,OAAS,IAAI,EAClB1K,KAAK0K,OAAOE,MAAMa,EAAON,QACzBnL,KAAK6L,UAAYH,GAAa,EAC9B1L,KAAK8L,SAETN,EAAS/N,UAAY,CACjBsO,OAAQ,SAASC,EAAUC,EAAO7E,EAAMC,GACpC,QAAc5E,IAAVwJ,EAAJ,CAGA,IAAIvI,EAAU1D,KAAK4L,QAAQI,GACvBzJ,EAAMvC,KAAK8G,IACf,IAAK,IAAIoF,KAAYD,OACSxJ,IAAtBiB,EAAQwI,KACRxI,EAAQwI,GAAY,IAAI,EAAU3J,EAAKyJ,EAAUE,IAErDxI,EAAQwI,GAAU1H,IAAIyH,EAAMC,GAAW9E,EAAMC,KAGrDyE,MAAO,WAOH,IANA,IAEIK,EACA9E,EACAD,EAJAuE,EAAS3L,KAAK6G,OACdnD,EAAU1D,KAAK4L,QAIfQ,EAAO,EACFvQ,EAAI,EAAGC,EAAI6P,EAAOrN,OAAQzC,EAAIC,EAAGD,IAAK,CAI3C,IAAK,IAAImQ,KAFT5E,GADA+E,EAAQR,EAAO9P,IACFuL,MAAQ,EACrBC,EAAQ8E,EAAM9E,OAAS,SACF3D,EACjB1D,KAAK+L,OAAOC,EAAUG,EAAMH,GAAW5E,EAAMC,GAEjD+E,EAAOpO,KAAKqO,IAAIjF,EAAMgF,GAE1BpM,KAAKsM,UAAYF,EACjBpM,KAAKuM,eAAe,eAExBC,QAAS,SAASxE,GACd,IAEIlF,EAFAY,EAAU1D,KAAK4L,QAAQvI,IACvBX,EAAM,GAEV,IAAI,IAAIwJ,KAAYxI,OAENjB,KADVK,EAAMY,EAAQwI,GAAUrF,OAAOmB,MAE3BtF,EAAIwJ,GAAYpJ,GAGxB,OAAOJ,GAEX2F,MAAO,SAAUxM,EAAGyM,GAChB,IAAIN,EAYJ,GAXGnM,EAAGmE,KAAK6L,UACFvD,IACDN,EAAQhI,KAAK0L,WAEV7P,EAAEmE,KAAKsM,UACVhE,IACAN,EAAQhI,KAAKsM,WAGjBtE,EAAQnM,EAAGmE,KAAK6L,UAEC,iBAAV7D,EAAoB,CAC3B,IAAIO,EAAWD,EAAkBtI,KAAK6L,UAAY7L,KAAKsM,UACvDtM,KAAKuM,eAAe,QAAS,CAACvE,EAAOM,EAAiBC,MAG9DC,OAAQ,SAAS3M,GACb,GAAIA,GAAGmE,KAAK6L,WAAahQ,GAAImE,KAAKsM,UAAW,CACzC,IAAItE,EAAQnM,EAAGmE,KAAK6L,UACpB7L,KAAK0K,OAAOO,KAAK,aAAa,CAACjD,IAC/BhI,KAAKuM,eAAe,SAAU,CAACvE,IAC/BhI,KAAK0K,OAAOO,KAAK,OAAQ,CAACjD,EAAOhI,KAAKwM,QAAQxE,KAC9ChI,KAAK0K,OAAOO,KAAKjD,KAGzBuE,eAAgB,SAAS/N,EAAUC,GAC/B,IACIgO,EADA/I,EAAU1D,KAAK4L,QAEnB,IAAI,IAAItO,KAAKoG,EAET,IAAI,IAAIzH,KADRwQ,EAAc/I,EAAQpG,GAElBmP,EAAYxQ,GAAGuC,GAAUE,MAAM+N,EAAYxQ,GAAIwC,IAI3DgJ,QAAS,WACLzH,KAAKuM,eAAe,aAIb,QChGXG,EAAS,SAAUC,EAASxB,GAC5BnL,KAAK4M,UAAY,GACjB5M,KAAKsM,UAAY,EACjBtM,KAAK6M,aACL7M,KAAK8M,aAAe,EACpB9M,KAAK+M,OAAS,EACd/M,KAAK0K,OAAS,IAAI,EAClB1K,KAAK0K,OAAOE,MAAMO,GAClBnL,KAAKwE,IAAImI,IAEbD,EAAOjP,UAAY,CACf+G,IAAK,SAAUmI,EAASK,GAIpB,IAHA,IAAIC,EAAW,EAAKlO,QAAQ4N,GAAWA,EAAU,CAACA,GAC9CO,EAAY,EACZxB,EAAYsB,EAAWhN,KAAKsM,UAAY,EACnCzQ,EAAI,EAAGC,EAAImR,EAAS3O,OAAQzC,EAAIC,EAAGD,IAAK,CAC7C,IAAIsR,EAAW,IAAI,EAASF,EAASpR,GAAI6P,GACzC1L,KAAK4M,UAAUrF,KAAK4F,GACpBD,EAAYlP,KAAKqO,IAAIa,EAAWC,EAASb,WAI7C,OADAtM,KAAKsM,UAAYtO,KAAKqO,IAAIrM,KAAKsM,UAAWY,GACnClN,MAEXoN,OAAQ,SAAUT,GAEd,OADA3M,KAAKwE,IAAImI,GAAS,GACX3M,MAEX3C,KAAM,SAAUD,EAAKqH,GAEjB,OADAzE,KAAK0K,OAAOrN,KAAKD,EAAKqH,GACfzE,MAEXqN,IAAK,SAAUC,EAAY/E,EAAUgF,GACjC,GAAIvN,KAAK6M,aACL,OAAO7M,KAGX,IAIIwN,EACAC,EALA7F,EAAQ,EAAK5I,IAAIsO,EAAYtN,KAAK8M,cAClCjF,EAAM,EAAK7I,IAAIuJ,EAAUvI,KAAKsM,WAE9BzQ,GADA0R,EAAeA,EAAc3F,GAASC,EAAM,EAAI7H,KAAKsM,UAAa1E,EAC9DA,GAGJ8F,EAAK1N,KAEL4H,GAASC,GACT2F,EAAa,EACbC,EAAO,WAAc,OAAO5R,GAAKgM,KAEjC2F,GAAc,EACdC,EAAO,WAAc,OAAO5R,GAAKgM,IAGrC,IAAI8F,EAAO,WACPD,EAAGhD,OAAOO,KAAK,SACXwC,KACAC,EAAGlF,OAAO3M,GACV6R,EAAGb,aAAee,sBAAsBD,GACxC9R,GAAK2R,IAELE,EAAGX,SACCW,EAAGX,QAAU,GACbW,EAAGb,aAAe,KAClBa,EAAGhD,OAAOO,KAAK,OACfyC,EAAGX,OAAS,IAEZlR,EAAI0R,EACJG,EAAGlF,OAAO3M,GACV6R,EAAGb,aAAee,sBAAsBD,MAQpD,OAHA3N,KAAK6N,WAELF,IACO3N,MAEX6N,SAAU,WACN,EAAKtP,KAAKyB,KAAK4M,UAAW,YAE9BvE,MAAO,SAAUxM,EAAGyM,GACZ,GAAKzM,GAAKA,GAAKmE,KAAKsM,YACpBhE,OAAsC7F,IAApB6F,KAAyCA,EAC3DtI,KAAK6N,WACL,EAAKtP,KAAKyB,KAAK4M,UAAW,QAAS,CAAC/Q,EAAGyM,IACvCtI,KAAK8M,aAAejR,IAG5B2M,OAAQ,SAAU3M,GACdmE,KAAK0K,OAAOO,KAAK,aAAc,CAACpP,IAChC,EAAK0C,KAAKyB,KAAK4M,UAAW,SAAU,CAAC/Q,IACrCmE,KAAK0K,OAAOO,KAAK,OAAQ,CAACpP,IAC1BmE,KAAK0K,OAAOO,KAAKpP,GACjBmE,KAAK8M,aAAejR,GAExBiS,QAAS,WAEL,OADA9N,KAAKqN,IAAIrN,KAAK8M,aAAe,EAAI9M,KAAK8M,aAAe9M,KAAKsM,UAAW,GAC9DtM,MAEX+N,OAAQ,SAAUA,GACd/N,KAAK+M,OAASgB,EACd/N,KAAKgO,QAETA,KAAM,WAEF,OADAhO,KAAKqN,MACErN,MAEXiO,KAAM,WAKF,OAJAC,qBAAqBlO,KAAK6M,cAC1B7M,KAAK6M,aAAe,KACpB7M,KAAK8M,aAAe,EACpB9M,KAAK0K,OAAOO,KAAK,QACVjL,MAEXmO,MAAO,WAIH,OAHAD,qBAAqBlO,KAAK6M,cAC1B7M,KAAK6M,aAAe,KACpB7M,KAAK0K,OAAOO,KAAK,SACVjL,MAEXoO,UAAW,WACP,QAASpO,KAAK6M,eAIP,QCoDA,MAnLf,MAEI,YAAapB,EAAQN,EAAQkD,GACzBrO,KAAKsO,QAAU,EAAKvP,QAAQ0M,GAAUA,EAAS,CAACA,GAChDzL,KAAKuO,QAAUpD,EACfnL,KAAKwO,cAAe,EACpBxO,KAAKyO,QAAU,CACX,EAAK,IAAI,EAAOhD,EAAQN,IAE5BnL,KAAK0O,aAAe,EACpB1O,KAAKqO,EAAEA,GAGX,EAAEA,GACM,EAAKtP,QAAQsP,IAAMA,EAAE/P,OAAS,EAC9B0B,KAAK2O,OAAON,GACNA,GACNrO,KAAK4O,QAAQP,GAIrB,QAAQQ,GAIJ,IAHA,IAAIC,EAAU9O,KAAKsO,QACfnD,EAASnL,KAAK+O,SAAS/O,KAAKuO,QAASM,GACrCpD,EAAO,GACF5P,EAAI,EAAGC,EAAIgT,EAAQxQ,OAAQzC,EAAIC,EAAGD,IACvC4P,EAAOlE,KAAKvH,KAAKgP,UAAUF,EAAQjT,GAAIgT,IAE3C,OAAO,IAAI,EAAOpD,EAAQN,GAM9B,OAAOkD,GACH,IAAK,IAAIxS,EAAI,EAAGC,EAAIuS,EAAE/P,OAAQzC,EAAIC,EAAGD,IAAK,CACtC,IAAIgT,EAAQR,EAAExS,GACO,iBAAVgT,GAA8B,IAARA,IAC7B7O,KAAKyO,QAAQI,GAAS7O,KAAKiP,QAAQJ,KAY/C,QAAQpD,GACJ,IAAIoD,EACA/L,EACJ,IAAK,IAAI1G,KAAQqP,EAEQ,SADrBoD,EAAQK,WAAW9S,IACT8B,UAA4B,IAAR2Q,IAC1B/L,EAAM2I,EAAOrP,GAET4D,KAAKyO,QAAQI,IADL,IAAR/L,EACsB9C,KAAKiP,QAAQJ,GAEb,IAAI,EAAO/L,EAAK9C,KAAK+O,SAAS/O,KAAKuO,QAASM,KAMlF,QAAQzR,EAAK0N,EAAM+D,GACf,OAAO7Q,KAAKmR,KAAK/R,EAAIyR,EAAM/D,GAG/B,UAAUW,EAAQoD,GACd,IACIO,EADA1M,EAAM,GAEV,IAAK,IAAItG,KAAQqP,EAEb,GADA2D,EAAO3D,EAAOrP,GACD,WAATA,EAAmB,CAGnB,IAFA,IACIiT,EADAC,EAAK,GAEAzT,EAAI,EAAGC,EAAIsT,EAAK9Q,OAAQzC,EAAIC,EAAGD,KACpCwT,EAAQ9S,OAAOgT,OAAO,GAAIH,EAAKvT,KACzBuL,KAAOpH,KAAKwP,QAAQH,EAAMjI,KAAM,EAAGyH,GACzCS,EAAG/H,KAAK8H,GAEZ3M,EAAIiJ,OAAS2D,MACG,WAATlT,EACPsG,EAAIyI,OAASnL,KAAK+O,SAASK,EAAMP,GAEjCnM,EAAItG,GAAQgT,EAGpB,OAAO1M,EAGX,SAAS+M,EAAOZ,GACZ,GAAIY,EAAO,CACP,IAAI/M,EAAI,GACR,IAAK,IAAItF,KAAOqS,EAAO,CACnB,GAAI,EAAKtQ,MAAM/B,GAEXsF,EADQ1C,KAAKwP,QAAQxL,SAAS5G,GAAK,EAAEyR,IAC5BY,EAAMrS,QAEfsF,EAAItF,GAAOqS,EAAMrS,GAGzB,OAAOsF,EAEP,OAAO+M,EAIf,QAAQ3M,GACJ,GAAkB,iBAARA,EAGN,OAAO9C,KAAK0O,aAFZ1O,KAAK0O,aAAe5L,EAM5B,gBACI,OAAO9C,KAAKyO,QAAQzO,KAAK0O,cAG7B,MAAML,GACF,GAAgB,iBAANA,EAAgB,MACE5L,IAApBzC,KAAKyO,QAAQJ,IACbrO,KAAK2O,OAAO,CAACN,IAEjB,IAAIqB,EAAO1P,KAAK2P,gBACZC,EAAYF,EAAK5C,aACjB+C,EAAU7P,KAAKyO,QAAQJ,GACvByB,EAAgB9P,KAAKwP,QAAQI,EAAW5P,KAAK+P,UAAW1B,GACxD2B,EAAaN,EAAKtB,YACtBsB,EAAKvB,QACL0B,EAAQxH,MAAMyH,EAAe9P,KAAKwO,cAClCqB,EAAQ9C,OAAS2C,EAAK3C,OACnBiD,GACCH,EAAQxC,SAAI5K,OAAWA,GAAW,GAEtCzC,KAAK+P,QAAQ1B,IAIrB,OACI,IAAIpS,EAAI+D,KAAK2P,gBACb1T,EAAE+R,KAAKtP,MAAMzC,EAAGgU,WAGpB,OACI,IAAIhU,EAAI+D,KAAK2P,gBACb1T,EAAEgS,KAAKvP,MAAMzC,EAAGgU,WAGpB,QACI,IAAIhU,EAAI+D,KAAK2P,gBACb1T,EAAEkS,MAAMzP,MAAMzC,EAAGgU,WAGrB,SACI,IAAIhU,EAAI+D,KAAK2P,gBACb1T,EAAE8R,OAAOrP,MAAMzC,EAAGgU,WAGtB,UACI,IAAIhU,EAAI+D,KAAK2P,gBACb1T,EAAE6R,QAAQpP,MAAMzC,EAAGgU,WAGvB,MACI,IAAIhU,EAAI+D,KAAK2P,gBACb1T,EAAEoR,IAAI3O,MAAMzC,EAAGgU,WAGnB,QACI,IAAIhU,EAAI+D,KAAK2P,gBACb1T,EAAEoM,MAAM3J,MAAMzC,EAAGgU,aC5KrBC,EAAS,SAASvD,EAASxB,GAC3B,OAAO,IAAI,EAAOwB,EAASxB,IAG/B+E,EAAOC,IAAM,EACbD,EAAO3L,MAAQ,EACf2L,EAAOrB,MAAQ,SAASlC,EAASxB,EAAQkD,GACrC,OAAO,IAAI,EAAM1B,EAASxB,EAAQkD,IAGtC,IAAI+B,EAAiB,SAAShU,EAAMqI,GACV,oBAAXhJ,aAA2CgH,IAAjBhH,OAAOW,KACxCX,OAAOW,GAAQqI,IAIvB2L,EAAe,KAAMF,GACrBE,EAAe,SAAUF,GAEV,e","file":"mframe.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"mframe\"] = factory();\n\telse\n\t\troot[\"mframe\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const RegInt = /^(-?[1-9]\\d*)|0$/;\n\nvar Core = {\n  guid: function () {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n      var r = Math.random() * 16 | 0;\n      var v = c === 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    });\n  },\n  access: function (elem, key, value, fn) {\n    var length = elem.length;\n    // fake bool\n    if (typeof length === 'number') {\n      for (var i = 0; i < length; i++) {\n        fn(elem[i], key, value);\n      }\n    } else {\n      fn(elem, key, value);\n    }\n  },\n  each: function (elem, funcName, args) {\n    var length = elem.length;\n    // fake bool\n    if (typeof length === 'number') {\n      for (var i = 0; i < length; i++) {\n        elem[i][funcName].apply(elem[i], args);\n      }\n    } else {\n      elem[funcName].apply(elem, args);\n    }\n  },\n  toArray: function (obj) {\n    return Array.prototype.slice.call(obj);\n  },\n  isArray: function (obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  },\n  int: function (num, def) {\n    var d = def || 0,\n      n;\n    if (typeof num === 'number') {\n      n = num >> 0;\n      return n >= 0 ? n : d;\n    }\n    return d;\n  },\n  isInt: function(v) {\n    return RegInt.test(v);\n  }\n};\n\nexport default Core;\n","var Browser = {\n    _regConfig : {\n        Chrome: {\n            Reg: /.*(chrome)\\/([\\w.]+).*/,\n            CssPrefixes: \"Webkit\"\n        },\n        Firefox: {\n            Reg: /.*(firefox)\\/([\\w.]+).*/,\n            CssPrefixes: \"Moz\",\n        },\n        Opera: {\n            Reg: /(opera).+version\\/([\\w.]+)/,\n            CssPrefixes: 'O',\n        },\n        Safari: {\n            Reg: /.*version\\/([\\w.]+).*(safari).*/,\n            CssPrefixes: 'Webkit',\n        },\n        IE: {\n            Reg: /.*(msie) ([\\w.]+).*/,\n            CssPrefixes: 'ms',\n        }\n    },\n    CssPrefixes:'',\n    init: function() {\n        var _regConfig = this._regConfig,\n            _userAgent = navigator.userAgent.toLowerCase();\n        for (var _o in _regConfig) {\n            var _result = _regConfig[_o].Reg.exec(_userAgent);\n            if (_result != null) {\n                this.CssPrefixes = _regConfig[_o].CssPrefixes;\n                break;\n            }\n        }\n    }\n};\n\nif(navigator && navigator.userAgent) {\n    Browser.init();\n}\n\nexport default Browser;\n","import Core from '../utiliy/core';\nimport Browser from '../utiliy/browser';\n\nvar Help = {\n    support: {},\n    regMsPrefix: /^-ms-/,\n    regDashAlpha: /-([\\da-z])/gi,\n    cssProps: {},\n    camelCase: function (string) {\n        return string.replace(this.regMsPrefix, \"ms-\").replace(this.regDashAlpha, this.fcamelCase);\n    },\n    fcamelCase: function (all, letter) {\n        return letter.toUpperCase();\n    },\n    upper1st: function (name) {\n        return name.charAt(0).toUpperCase() + name.slice(1);\n    },\n    // return a css property mapped to a potentially vendor prefixed property\n    vendorPropName: function (style, name) {\n        // shortcut for names that are not vendor prefixed\n        if (name in style) {\n            return name;\n        }\n        // check for vendor prefixed names\n        var capName = this.upper1st(name),\n            origName = name;\n\n        name = Browser.CssPrefixes + capName;\n        if (name in style) {\n            return name;\n        }\n\n        return origName;\n    },\n    test: function () {\n        var div, a, style;\n        div = document.createElement(\"div\");\n        div.innerHTML = \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\n        a = div.getElementsByTagName(\"a\")[0];\n        style = a && a.style;\n        if (!style) {\n            return;\n        }\n        style.cssText = \"float:left;opacity:.5\";\n        // Verify style float existence\n        // (IE uses styleFloat instead of cssFloat)\n        this.support.cssFloat = !!style.cssFloat;\n        this.support.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n        this.cssProps.float = this.support.cssFloat ? \"cssFloat\" : \"styleFloat\";\n        this.getComputedStyle = typeof window.getComputedStyle === 'function' ?\n            window.getComputedStyle :\n            document.defaultView.getComputedStyle;\n    },\n    getPropName: function (style, origName) {\n        return this.cssProps[origName] || (this.cssProps[origName] = this.vendorPropName(style, origName));\n    },\n    css: function (dom, key, value) {\n        //only deal with dom\n        if (!dom || dom.nodeType === 3 || dom.nodeType === 8 || !dom.style) {\n            return;\n        }\n\n        var origName = this.camelCase(key),\n            style = dom.style,\n            name = this.getPropName(style, origName);\n\n        if (value !== undefined) {\n            //return when null and NaN\n            if (value == null || value !== value) {\n                return;\n            }\n\n            try {\n                style[name] = value;\n            } catch (e) { }\n\n        } else {\n            var v = style[name],\n                ret;\n            if (v === undefined || v === '') {\n                try {\n                    ret = document.defaultView.getComputedStyle(dom)[name];\n                } catch (e) {\n                    return '';\n                }\n                return ret;\n            } else {\n                return style[name];\n            }\n        }\n    }\n};\n\nHelp.test();\n\n\nvar css = {\n    _set: function (dom, key, val) {\n        Help.css(dom, key, val);\n    },\n    set: function (dom, key, val) {\n        Core.access(dom, key, val, this._set);\n    },\n    _get: function (dom, key) {\n        return Help.css(dom, key);\n    },\n    get: function (dom, key) {\n        return this._get(typeof dom.length === 'number' ? dom[0] : dom, key);\n    }\n}\nexport default css;","import css from'./css';\nimport attr from'./attr';\nimport prop from'./prop';\nimport arg from'./arg';\n\nvar Cpu = {\n    Cores: {\n        css,\n        attr,\n        prop,\n        arg\n    },\n    install: function (name, core) {\n        this.Cores[name] = core;\n    },\n    uninstall: function (name) {\n        delete this.Cores[name];\n    },\n    createStorage: function () {\n        var storage = {};\n        for( var name in this.Cores) {\n            storage[name] = {};\n        }\n        return storage;\n    },\n    core: function (name) {\n        return this.Cores[name];\n    }\n}\n\nexport default Cpu;","import Core from '../utiliy/core';\n\nvar attr = {\n    _set: function (dom, key, val) {\n        dom.setAttribute(key, val);\n    },\n    set: function (dom, key, val) {\n        Core.access(dom, key, val, this._set);\n    },\n    _get: function (dom, key) {\n        return dom.getAttribute(key);\n    },\n    get: function (dom, key) {\n        return this._get(typeof dom.length === 'number' ? dom[0] : dom, key);\n    }\n}\n\nexport default attr;","import Core from '../utiliy/core';\nvar prop = {\n    _set: function (dom, key, val) {\n        dom[key] = val;\n    },\n    set: function (dom, key, val) {\n        Core.access(dom, key, val, this._set);\n    },\n    _get: function (dom, key) {\n        return dom[key];\n    },\n    get: function (dom, key) {\n        return this._get(typeof dom.length === 'number' ? dom[0] : dom, key);\n    }\n}\n\nexport default prop;","var func = {\n    set: function (dom, key, val) {\n        return '';\n    },\n    get: function (dom, key) {\n        return '';\n    }\n}\n\nexport default func;","var Color = {\n    RegNum: /(-?\\d+)(\\.\\d+)?/g,\n    toRgbaArr: function(val) {\n        var r, g, b, a = 1;\n        if (val[0] === '#') {\n            var step = val.length === 4 ? 1 : 2;\n            r = parseInt(val.slice(1, 1 + step), 16);\n            g = parseInt(val.slice(1 + step, 1 + step * 2), 16);\n            b = parseInt(val.slice(1 + step * 2, 1 + step * 3), 16);\n        } else {\n            var m = val.match(this.RegNum);\n            r = +m[0];\n            g = +m[1];\n            b = +m[2];\n            a = m.length > 3 ? +m[3] : 1;\n        }\n        return [r, g, b, a];\n    },\n    toRgba: function(rgbaArr) {\n        return 'rgba(' + rgbaArr.join(',') + ')';\n    },\n    toHex: function(rgbaArr) {\n        return '#' + this.to16(rgbaArr[0])\n            + this.to16(rgbaArr[1])\n            + this.to16(rgbaArr[2]);\n    },\n    to16: function(val) {\n        var v = val.toString(16);\n        return v.length===1 ? '0'+v : v;\n    }\n};\nexport default Color;","\n/*\n    * Tween\n    * @Author:     yulianghuang\n    * @CreateDate  2020/2/7\n    * @param t {num} current time（当前时间）\n    * @param b {num} beginning value（初始值）\n    * @param c {num} change in value（变化量）\n    * @param d {num} duration（持续时间）\n*/\nvar Tween = {\n    // test\n    add: function(name, func) {\n        this[name] = func;\n    },\n    linear: function(t,b,c,d){\n        return c*t/d + b;\n    },\n    easeIn: function(t,b,c,d){\n        return c*(t/=d)*t + b;\n    },\n    easeOut: function(t,b,c,d){\n        return -c *(t/=d)*(t-2) + b;\n    },\n    easeInOut: function(t,b,c,d){\n        if ((t/=d/2) < 1) return c/2*t*t + b;\n        return -c/2 * ((--t)*(t-2) - 1) + b;\n    },  \n    easeInCubic: function(t,b,c,d){\n         return c*(t/=d)*t*t + b;\n    },\n    easeOutCubic: function(t,b,c,d){\n        return c*((t=t/d-1)*t*t + 1) + b;\n    },\n    easeInOutCubic: function(t,b,c,d){\n        if ((t/=d/2) < 1) return c/2*t*t*t + b;\n        return c/2*((t-=2)*t*t + 2) + b;\n    },\n    easeInQuart: function(t,b,c,d){\n         return c*(t/=d)*t*t*t + b;\n    },\n    easeOutQuart: function(t,b,c,d){\n        return -c * ((t=t/d-1)*t*t*t - 1) + b;\n    },\n    easeInOutQuart: function(t,b,c,d){\n        if ((t/=d/2) < 1) return c/2*t*t*t*t + b;\n        return -c/2 * ((t-=2)*t*t*t - 2) + b;\n    },\n    easeInQuint: function(t,b,c,d){\n        return c*(t/=d)*t*t*t*t + b;\n    },\n    easeOutQuint: function(t,b,c,d){\n        return c*((t=t/d-1)*t*t*t*t + 1) + b;\n    },\n    easeInOutQuint: function(t,b,c,d){\n        if ((t/=d/2) < 1) return c/2*t*t*t*t*t + b;\n         return c/2*((t-=2)*t*t*t*t + 2) + b;\n    },\n    easeInSine: function(t,b,c,d){\n        return -c * Math.cos(t/d * (Math.PI/2)) + c + b;\n    },\n    easeOutSine: function(t,b,c,d){\n        return c * Math.sin(t/d * (Math.PI/2)) + b;\n    },\n    easeInOutSine: function(t,b,c,d){\n        return -c/2 * (Math.cos(Math.PI*t/d) - 1) + b;\n    },\n    easeInExpo: function(t,b,c,d){\n        return (t==0) ? b : c * Math.pow(2, 10 * (t/d - 1)) + b;\n    },\n    easeOutExpo: function(t,b,c,d){\n        return (t==d) ? b+c : c * (-Math.pow(2, -10 * t/d) + 1) + b;\n    },\n    easeInOutExpo: function(t,b,c,d){\n        if (t==0) return b;\n        if (t==d) return b+c;\n        if ((t/=d/2) < 1) return c/2 * Math.pow(2, 10 * (t - 1)) + b;\n        return c/2 * (-Math.pow(2, -10 * --t) + 2) + b;\n    },\n    easeInCirc: function(t,b,c,d){\n        return -c * (Math.sqrt(1 - (t/=d)*t) - 1) + b;\n    },\n    easeOutCirc: function(t,b,c,d){\n        return c * Math.sqrt(1 - (t=t/d-1)*t) + b;\n    },\n    easeInOutCirc: function(t,b,c,d){\n        if ((t/=d/2) < 1) return -c/2 * (Math.sqrt(1 - t*t) - 1) + b;\n        return c/2 * (Math.sqrt(1 - (t-=2)*t) + 1) + b;\n    },\n    easeInBounce:function(t,b,c,d){\n        return c - Tween.easeOutBounce(d-t, 0, c, d) + b;\n    },\n    easeOutBounce:function(t,b,c,d){\n        if ((t/=d) < (1/2.75)) {\n            return c*(7.5625*t*t) + b;\n        } else if (t < (2/2.75)) {\n            return c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;\n        } else if (t < (2.5/2.75)) {\n            return c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;\n        } else {\n            return c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;\n        }\n    },\n    easeInOutBounce:function(t,b,c,d){\n        if (t < d/2) return Tween.easeInBounce(t*2, 0, c, d) * .5 + b;\n        else return Tween.easeOutBounce(t*2-d, 0, c, d) * .5 + c*.5 + b;\n    }\n};\n\nexport default Tween;\n","import Cpu from '../cpu/index';\nimport Color from '../math/color';\nimport Tween from '../math/tween';\n\nvar regStrNum = /(-?\\d+)(\\.\\d+)?/;\nvar regStrHex = /#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})/;\nvar regStrRgba = /^[rR][gG][Bb][Aa]?[\\(]([\\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){2}[\\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),?[\\s]*(0\\.\\d{1,2}|1|0)?[\\)]{1}$/;\n\nvar KeyFrames = function(dom, core, Prop) {\n    this.Keys = {}; // key frame\n    this.Timing = [];\n    this._LaterComplie = {};\n    this.Frames = {};\n    this.Dom = dom;\n    this.CpuCore = Cpu.core(core);\n    this.PropName = Prop;\n};\nKeyFrames.prototype = {\n    RegList : [regStrHex, regStrRgba, regStrNum],\n    Reg : /(#([0-9a-fA-F]{6}|[0-9a-fA-F]{3}))|(([rR][gG][Bb][Aa]?[\\(]([\\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){2}[\\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),?[\\s]*(0\\.\\d{1,2}|1|0)?[\\)]{1}))|((-?\\d+)(\\.\\d+)?)/g,\n    RegFloat : /\\./g,\n    _sort: function(a, b) {\n        return a - b;\n    },\n    add:function(value, time, tween) {\n        if (this.Timing.indexOf(time) === -1) {\n            this.Timing.push(time);\n            this.Timing.sort(this._sort);\n        }\n        this.Keys[time] = {\n            value: value,\n            tween: tween\n        };\n    },\n    complie: function() {\n        var time1,\n            time2,\n            start,\n            end,\n            keys = this.Keys,\n            timing = this.Timing;\n        if (timing.length === 1) {\n            this.Frames[timing[0]] = this.val(keys[timing[0]].value);\n            return;\n        }\n        for (var index in this._LaterComplie) {\n            time1 = timing[+index];\n            time2 = timing[+index + 1];\n            start = keys[time1];\n            end = keys[time2];\n            this._patch(time1, time2, this.val(start.value), this.val(end.value), end.tween);\n        }\n    },\n    preComplie: function() {\n        var timing = this.Timing,\n            time1,\n            time2,\n            start,\n            end,\n            keys = this.Keys;\n        this._LaterComplie = {};\n        if (timing.length === 1) {\n            var _val = keys[timing[0]].value;\n            if (this._ifLaterComplie(_val)) {\n                this._LaterComplie[0] = true;\n            }\n            this.Frames[timing[0]] = _val;\n            return;\n        }\n        for (var i = 0, l = timing.length - 1; i < l; i++) {\n            time1 = timing[i];\n            time2 = timing[i + 1];\n            start = keys[time1];\n            end = keys[time2];\n            if (this._ifLaterComplie(start.value) || this._ifLaterComplie(end.value)) {\n                this._LaterComplie[i] = true;\n            } else {\n                this._patch(time1, time2, start.value, end.value, end.tween);\n            }\n        }\n    },\n    val:function(value) {\n        if (typeof value === 'function') {\n            return value();\n        } else if (value === null) {\n            return this.CpuCore.get(this.Dom, this.PropName);\n        } else {\n            return value;\n        }\n    },\n    state: function(i, isFromZeroToEnd, endFrame) {\n        if(isFromZeroToEnd) {\n            while(i>=endFrame) {\n                if(this.Frames[i] !== undefined) {\n                    this.CpuCore.set(this.Dom, this.PropName, this.Frames[i]);\n                    break;\n                }\n                i--;\n            }\n        } else {\n            while(i<=endFrame) {\n                if(this.Frames[i] !== undefined) {\n                    this.CpuCore.set(this.Dom, this.PropName, this.Frames[i]);\n                    break;\n                }\n                i++;\n            }\n        }\n    },\n    render:function(i) {\n        if (this.Frames[i] !== undefined) {\n            this.CpuCore.set(this.Dom, this.PropName, this.Frames[i]);\n        }\n    },\n    _patch:function(time1, time2, val1, val2, tweenName) {\n        var needConvert = typeof val1 === 'number' && typeof val2 === 'number',\n            v1 = val1.toString(),\n            v2 = val2.toString(),\n            m1 = this._match(v1),\n            m2 = this._match(v2),\n            duration = time2 - time1,\n            tween = Tween[tweenName] || Tween.linear;\n\n        if (duration > 1 && val1 !== val2) {\n            var analyzeItem = this._analyzeMatch(m1, m2);\n            if (analyzeItem) {\n                if (needConvert) {\n                    for (var i = time1 + 1; i < time2; i++) {\n                        this.Frames[i] = +this._patchProp(v1, analyzeItem, i - time1, duration, tween);\n                    }\n                } else {\n                    for (var i = time1 + 1; i < time2; i++) {\n                        this.Frames[i] = this._patchProp(v1, analyzeItem, i - time1, duration, tween);\n                    }\n                }\n            }\n        }\n\n        this.Frames[time1] = val1;\n        this.Frames[time2] = val2;\n    },\n    _number:function(val, needInt) {\n        return needInt ? parseInt(val) : +val;\n    },\n    _patchProp:function(val, analyzeItem, currentTime, duration, tween) {\n        var _start = analyzeItem.start,\n            _end = analyzeItem.end,\n            _int = analyzeItem.int,\n            _number = this._number,\n            index = 0;\n\n        return val.replace(this.Reg, function (word) {\n            var s = _start[index],\n                e = _end[index],\n                ret;\n            if (typeof s === 'number') {\n                ret = _number(tween(currentTime, +s, +e - s, duration), _int[index]);\n                //color\n            } else {\n                var rgba = [];\n                for (var i = 0, l = s.length; i < l; i++) {\n                    var v = tween(currentTime, +s[i], +e[i] - s[i], duration);\n                    rgba.push(i < 3 ? parseInt(v) : v);\n                }\n                ret = word[0] === '#' ? Color.toHex(rgba) : Color.toRgba(rgba);\n            }\n            index++;\n            return ret;\n        });\n    },\n    _analyzeMatch:function(m1, m2) {\n        var typeLike1 = m1.typeLike,\n            typeLike2 = m2.typeLike,\n            match1 = m1.match,\n            match2 = m2.match,\n            l = typeLike1.length,\n            ret = {\n                start: [],\n                end: [],\n                int: []\n            };\n        if (l !== typeLike2.length || l === 0 || typeLike2.length === 0) {\n            return false;\n        }\n        for (var i = 0; i < l; i++) {\n            if (typeLike1[i] !== typeLike2[i]) {\n                return false;\n                // number\n            } else if (typeLike1[i] === 1) {\n                ret.start.push(+match1[i]);\n                ret.end.push(+match2[i]);\n                ret.int.push(this._needConvertInt(match1[i], match2[i]));\n                // color\n            } else {\n                ret.start.push(Color.toRgbaArr(match1[i]));\n                ret.end.push(Color.toRgbaArr(match2[i]));\n                ret.int.push([true, true, true, false]);\n            }\n        }\n        return ret;\n    },\n    _needConvertInt:function(s1, s2) {\n        return !(this.RegFloat.test(s1) || this.RegFloat.test(s2));\n    },\n    /*\n    {\n        reg: [],\n        type: [],\n        typeLike: []\n    }\n    */\n    _match:function(val) {\n        var m = val.match(this.Reg) || [],\n            type = [],\n            typeLike = [];\n        for (var i = 0; i < m.length; i++) {\n            var _t = this._matchType(m[i]);\n            type.push(_t); // 0 hex 1 rgba 2 number\n            typeLike.push(_t === 2 ? 1 : 0); // 1 number 0 color\n        }\n        return {\n            match: m,\n            type: type,\n            typeLike: typeLike\n        }\n    },\n    _matchType:function(val) {\n        var regList = this.RegList;\n        for (var i = 0, l = regList.length; i < l; i++) {\n            if (regList[i].test(val)) {\n                return i;\n            }\n        }\n        //return i;\n    },\n    _ifLaterComplie:function(value) {\n        return typeof value === 'function' || value === null;\n    }\n\n};\n\nexport default KeyFrames;","import core from './core';\n\nvar Events = function () {\n  this.Events = {};\n};\nEvents.prototype = {\n  RegInt: /^[1-9]\\d*$/,\n  bind: function (key, func) {\n    if (func._$EventGuid === undefined) {\n      func._$EventGuid = core.guid();\n    }\n    if (this.Events[key] === undefined) {\n      this.Events[key] = {};\n    }\n    this.Events[key][func._$EventGuid] = func;\n    return func._$EventGuid;\n  },\n  binds: function (json, base) {\n    if (json) {\n      var newKey,\n        hasBase = typeof base === 'number';\n      for (var key in json) {\n        newKey = hasBase && this.RegInt.test(key) ? base + key : key;\n        this.bind(newKey, json[key]);\n      }\n    }\n  },\n  emit: function (key, args, caller) {\n    var events = this.Events[key];\n    if (events) {\n      for (var funcGuid in events) {\n        events[funcGuid].apply(caller, args);\n      }\n    }\n  },\n  // emit with one arg\n  fire: function (key, args, caller) {\n    var events = this.Events[key];\n    if (events) {\n      for (var funcGuid in events) {\n        events[funcGuid].call(caller, args);\n      }\n    }\n  },\n  unbind: function (key, funcOrGuid) {\n    if (this.Events[key]) {\n      var guid = typeof funcOrGuid === 'string' ? funcOrGuid : funcOrGuid._$EventGuid;\n      delete this.Events[key][guid];\n    }\n  }\n};\n\nexport default Events;\n","import KeyFrames from './keyFrames';\nimport Events from'../utiliy/events';\nimport Cpu from '../cpu/index';\n\nvar Timeline = function(config, zeroFrame) {\n    this.Dom = config.dom;\n    this.Frames = config.frames;\n    this.Storage = Cpu.createStorage();\n    this.Events = new Events();\n    this.Events.binds(config.events);\n    this.ZeroFrame = zeroFrame || 0;\n    this._scan();\n};\nTimeline.prototype = {\n    _store: function(coreName, props, time, tween) {\n        if (props === undefined) {\n            return;\n        }\n        var storage = this.Storage[coreName],\n            dom = this.Dom;\n        for (var propName in props) {\n            if (storage[propName] === undefined) {\n                storage[propName] = new KeyFrames(dom, coreName, propName);\n            }\n            storage[propName].add(props[propName], time, tween);\n        }\n    },\n    _scan: function() {\n        var frames = this.Frames,\n            storage = this.Storage,\n            frame,\n            tween,\n            time,\n            last = 0;\n        for (var i = 0, l = frames.length; i < l; i++) {\n            frame = frames[i];\n            time = frame.time || 0;\n            tween = frame.tween || 'linear';\n            for (var coreName in storage) {\n                this._store(coreName, frame[coreName], time, tween);\n            }\n            last = Math.max(time, last);\n        }\n        this.LastFrame = last;\n        this._excuteStorage('preComplie');\n    },\n    getArgs: function(index) {\n        var storage = this.Storage.arg,\n            ret = {},\n            val;\n        for(var propName in storage) {\n            val = storage[propName].Frames[index];\n            if(val!== undefined) {\n                ret[propName] = val;\n            }\n        }\n        return ret;\n    },\n    state: function (i, isFromZeroToEnd) {\n        let index;\n        if(i< this.ZeroFrame) {\n            if (!isFromZeroToEnd) {\n                index = this.zeroFrame;\n            }\n        } else if (i>this.LastFrame) {\n            if (isFromZeroToEnd) {\n                index = this.LastFrame;\n            }\n        } else {\n            index = i- this.ZeroFrame;\n        }\n        if (typeof index === 'number') {\n            var endFrame = isFromZeroToEnd ? this.ZeroFrame : this.LastFrame;\n            this._excuteStorage('state', [index, isFromZeroToEnd, endFrame]);\n        }\n    },\n    render: function(i) {\n        if (i>=this.ZeroFrame && i<= this.LastFrame) {\n            let index = i- this.ZeroFrame;\n            this.Events.emit('beforeEach',[index]);\n            this._excuteStorage('render', [index]);\n            this.Events.emit('each', [index, this.getArgs(index)]);\n            this.Events.emit(index);\n        }\n    },\n    _excuteStorage: function(funcName, args) {\n        var storage = this.Storage,\n            coreStorage;\n        for(var n in storage) {\n            coreStorage = storage[n];\n            for(var m in coreStorage) {\n                coreStorage[m][funcName].apply(coreStorage[m], args);\n            }\n        }\n    },\n    complie: function() {\n        this._excuteStorage('complie');\n    }\n};\n\nexport default Timeline;","import Timeline from './timeline';\nimport Events from '../utiliy/events';\nimport Core from '../utiliy/core';\n\nvar Motion = function (configs, events) {\n    this.Timelines = [];\n    this.LastFrame = 0;\n    this._AnimationID;\n    this.CurrentFrame = 0;\n    this.Repeat = 1;\n    this.Events = new Events();\n    this.Events.binds(events);\n    this.add(configs);\n};\nMotion.prototype = {\n    add: function (configs, ifAppend) {\n        var _configs = Core.isArray(configs) ? configs : [configs],\n            lastFrame = 0,\n            zeroFrame = ifAppend ? this.LastFrame : 0;\n        for (var i = 0, l = _configs.length; i < l; i++) {\n            var timeline = new Timeline(_configs[i], zeroFrame);\n            this.Timelines.push(timeline);\n            lastFrame = Math.max(lastFrame, timeline.LastFrame);\n        }\n\n        this.LastFrame = Math.max(this.LastFrame, lastFrame);\n        return this;\n    },\n    append: function (configs) {\n        this.add(configs, true);\n        return this;\n    },\n    bind: function (key, func) {\n        this.Events.bind(key, func);\n        return this;\n    },\n    run: function (startFrame, endFrame, resetStart) {\n        if (this._AnimationID) {\n            return this;\n        }\n\n        var start = Core.int(startFrame, this.CurrentFrame),\n            end = Core.int(endFrame, this.LastFrame),\n            resetStart = !!resetStart ? (start <= end ? 0 : this.LastFrame) : start,\n            i = start,\n            stepLength,\n            ifGo,\n            me = this;\n            \n        if (start <= end) {\n            stepLength = 1;\n            ifGo = function () { return i <= end; };\n        } else {\n            stepLength = -1;\n            ifGo = function () { return i >= end; };\n        }\n\n        var _run = function () {\n            me.Events.emit('start');\n            if (ifGo()) {\n                me.render(i);\n                me._AnimationID = requestAnimationFrame(_run);\n                i += stepLength;\n            } else {\n                me.Repeat--;\n                if (me.Repeat <= 0) {\n                    me._AnimationID = null;\n                    me.Events.emit('end');\n                    me.Repeat = 1;\n                } else {\n                    i = resetStart;\n                    me.render(i);\n                    me._AnimationID = requestAnimationFrame(_run);\n                }\n            }\n        }\n\n        this._complie();\n\n        _run();\n        return this;\n    },\n    _complie: function () {\n        Core.each(this.Timelines, 'complie');\n    },\n    state: function (i, isFromZeroToEnd) {\n        if (0 <= i && i <= this.LastFrame) {\n            isFromZeroToEnd = isFromZeroToEnd === undefined ? true : !!isFromZeroToEnd;\n            this._complie();\n            Core.each(this.Timelines, 'state', [i, isFromZeroToEnd]);\n            this.CurrentFrame = i;\n        }\n    },\n    render: function (i) {\n        this.Events.emit('beforeEach', [i]);\n        Core.each(this.Timelines, 'render', [i]);\n        this.Events.emit('each', [i]);\n        this.Events.emit(i);\n        this.CurrentFrame = i;\n    },\n    reverse: function () {\n        this.run(this.CurrentFrame > 0 ? this.CurrentFrame : this.LastFrame, 0);\n        return this;\n    },\n    repeat: function (repeat) {\n        this.Repeat = repeat;\n        this.play();\n    },\n    play: function () {\n        this.run();\n        return this;\n    },\n    stop: function () {\n        cancelAnimationFrame(this._AnimationID);\n        this._AnimationID = null;\n        this.CurrentFrame = 0;\n        this.Events.emit('stop');\n        return this;\n    },\n    pause: function () {\n        cancelAnimationFrame(this._AnimationID);\n        this._AnimationID = null;\n        this.Events.emit('pause');\n        return this;\n    },\n    isPlaying: function() {\n        return !!this._AnimationID;\n    }\n};\n\nexport default Motion;","import Motion from '../core/index';\nimport Core from '../utiliy/core';\n\nclass Speed {\n\n    constructor (config, events, x) {\n        this._Config = Core.isArray(config) ? config : [config];\n        this._Events = events;\n        this._isFromeZero = true;\n        this.Mframes = {\n            '1': new Motion(config, events)\n        };\n        this.CurrentSpeed = 1;\n        this.x(x);\n    }\n\n    x(x) {\n        if (Core.isArray(x) && x.length > 0) {\n            this.xspeed(x);\n        } else if(x) {\n            this.xconfig(x);\n        }\n    }\n\n    _xspeed(speed) {\n        var _config = this._Config,\n            events = this._u_event(this._Events, speed),\n            config=[];\n        for (var i = 0, l = _config.length; i < l; i++) {\n            config.push(this._u_config(_config[i], speed));\n        }\n        return new Motion(config, events);\n    }\n\n    /*\n    0.5 1 2\n    */\n    xspeed(x) {\n        for (var i = 0, l = x.length; i < l; i++) {\n            var speed = x[i];\n            if (typeof speed === 'number' && speed!==1) {\n                this.Mframes[speed] = this._xspeed(speed);\n            }\n        }\n    }\n\n    /*\n    {\n        1: {},\n        2: {},\n        1.5: true\n    }\n    */\n    xconfig(config) {\n        var speed,\n            val;\n        for (var name in config) {\n            speed = parseFloat(name);\n            if (speed.toString!=='NaN' && speed!==1) {\n                val = config[name];\n                if (val === true) {\n                    this.Mframes[speed] = this._xspeed(speed);\n                } else {\n                    this.Mframes[speed] = new Motion(val, this._u_event(this._Events, speed));\n                }\n            }\n        }\n    }\n\n    _u_time(key, base, speed) {\n        return Math.ceil(key*speed/base);\n    }\n\n    _u_config(config, speed) {\n        var ret = {},\n            item;\n        for (var name in config) {\n            item = config[name];\n            if (name === 'frames') {\n                var _f = [],\n                    _item;\n                for (var i = 0, l = item.length; i < l; i++) {\n                    _item = Object.assign({}, item[i]);\n                    _item.time = this._u_time(_item.time, 1, speed);\n                    _f.push(_item);\n                }\n                ret.frames = _f;\n            } else if (name === 'events') {\n                ret.events = this._u_event(item, speed);\n            } else {\n                ret[name] = item;\n            }\n        }\n        return ret;\n    }\n\n    _u_event(event, speed) {\n        if (event) {\n            var ret={};\n            for (var key in event) {\n                if (Core.isInt(key)) {\n                    var n = this._u_time(parseInt(key),1,speed);\n                    ret[n] = event[key];\n                } else {\n                    ret[key] = event[key];\n                }\n            }\n            return ret;\n        } else {\n            return event;\n        }\n    }\n\n    current(val) {\n        if(typeof val === 'number') {\n            this.CurrentSpeed = val;\n        } else {\n            return this.CurrentSpeed;\n        }\n    }\n\n    currentMframe() {\n        return this.Mframes[this.CurrentSpeed];\n    }\n\n    speed(x) {\n        if(typeof x === 'number') {\n            if (this.Mframes[x] === undefined) {\n                this.xspeed([x]);\n            }\n            var _pre = this.currentMframe(),\n                _preFrame = _pre.CurrentFrame,\n                _mframe = this.Mframes[x],\n                _currentFrame = this._u_time(_preFrame, this.current(), x),\n                _isPlaying = _pre.isPlaying();\n            _pre.pause();\n            _mframe.state(_currentFrame, this._isFromeZero);\n            _mframe.Repeat = _pre.Repeat;\n            if(_isPlaying) {\n                _mframe.run(undefined, undefined, true);\n            }\n            this.current(x);\n        }\n    }\n\n    play() {\n        var m = this.currentMframe();\n        m.play.apply(m, arguments);\n    }\n\n    stop() {\n        var m = this.currentMframe();\n        m.stop.apply(m, arguments);\n    }\n\n    pause() {\n        var m = this.currentMframe();\n        m.pause.apply(m, arguments);\n    }\n\n    repeat() {\n        var m = this.currentMframe();\n        m.repeat.apply(m, arguments);\n    }\n\n    reverse() {\n        var m = this.currentMframe();\n        m.reverse.apply(m, arguments);\n    }\n\n    run() {\n        var m = this.currentMframe();\n        m.run.apply(m, arguments);\n    }\n\n    state() {\n        var m = this.currentMframe();\n        m.state.apply(m, arguments);\n    }\n\n}\n\nexport default Speed;","import Motion from './core/index';\nimport Cpu from'./cpu/index';\nimport Speed from './speed/index';\nimport Tween from'./math/tween';\n\nvar MFrame = function(configs, events) {\n    return new Motion(configs, events);\n};\n\nMFrame.Cpu = Cpu;\nMFrame.Tween = Tween;\nMFrame.speed = function(configs, events, x) {\n    return new Speed(configs, events, x);\n};\n\nvar registerWindow = function(name, func) {\n    if (typeof window !== 'undefined' && window[name] === undefined) {\n        window[name] = func;\n    }\n};\n\nregisterWindow('mf', MFrame);\nregisterWindow('mframe', MFrame);\n\nexport default MFrame;"],"sourceRoot":""}